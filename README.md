# è™šå¹»å¼•æ“çŸ¥è¯†å›¾è°± MCP æœåŠ¡å™¨

[English](README_EN.md) | ä¸­æ–‡

è¿™ä¸ªé¡¹ç›®æä¾›è™šå¹»å¼•æ“å®˜æ–¹æ–‡æ¡£çš„ MCPï¼ˆModel Context Protocolï¼‰æœåŠ¡å™¨ï¼Œæ”¯æŒ**åŸºäºNeo4jå›¾æ•°æ®åº“çš„æ¦‚å¿µå…³ç³»æœç´¢**ï¼Œå¸®åŠ©å¼€å‘è€…å‘ç°æ¦‚å¿µé—´çš„å­¦ä¹ è·¯å¾„å’Œä¾èµ–å…³ç³»ã€‚

## é¡¹ç›®èƒŒæ™¯

åœ¨å­¦ä¹ è™šå¹»å¼•æ“å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¼€å‘è€…ç»å¸¸éœ€è¦ç†è§£å„ç§æ¦‚å¿µä¹‹é—´çš„å…³ç³»ï¼Œæ¯”å¦‚ï¼š
- è“å›¾ç³»ç»Ÿä¸C++ä»£ç çš„å…³ç³»
- æè´¨ç¼–è¾‘å™¨ä¸èŠ‚ç‚¹å›¾ç¼–ç¨‹çš„å…³ç³»  
- Naniteè™šæ‹Ÿå‡ ä½•ä½“ä¸é«˜å¤šè¾¹å½¢æ¨¡å‹çš„å…³ç³»

ä¼ ç»Ÿçš„æ–‡æ¡£æœç´¢åªèƒ½æ‰¾åˆ°å•ä¸ªæ¦‚å¿µçš„ä¿¡æ¯ï¼Œæ— æ³•æ­ç¤ºæ¦‚å¿µé—´çš„å­¦ä¹ è·¯å¾„å’Œä¾èµ–å…³ç³»ã€‚æœ¬é¡¹ç›®é€šè¿‡æ„å»ºçŸ¥è¯†å›¾è°±ï¼Œè®©AIèƒ½å¤Ÿç†è§£æ¦‚å¿µé—´çš„å…³è”ï¼Œæä¾›æ›´æ™ºèƒ½çš„å­¦ä¹ æŒ‡å¯¼ã€‚

## è§£å†³æ–¹æ¡ˆ

æœ¬é¡¹ç›®æä¾›äº†ä¸€ä¸ªåŸºäºNeo4jå›¾æ•°æ®åº“çš„MCPæœåŠ¡å™¨ï¼Œä¸“é—¨ç”¨äºè™šå¹»å¼•æ“æ¦‚å¿µå…³ç³»çš„æ™ºèƒ½æœç´¢å’Œå‘ç°ã€‚é€šè¿‡DeepSeek v3æ¨¡å‹æå–æ–‡æ¡£ä¸­çš„æ¦‚å¿µå…³ç³»ï¼Œæ„å»ºå®Œæ•´çš„çŸ¥è¯†å›¾è°±ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ”— **æ¦‚å¿µå…³ç³»æœç´¢**: å‘ç°ä»»æ„æ¦‚å¿µçš„ç›¸å…³æ¦‚å¿µå’Œå­¦ä¹ è·¯å¾„
- ğŸ¯ **å…³ç³»ç±»å‹æŸ¥è¯¢**: æŒ‰å…³ç³»ç±»å‹ï¼ˆå¦‚ï¼šåŒ…å«ã€æ”¯æŒã€ä¾èµ–ï¼‰æœç´¢æ¦‚å¿µå…³ç³»
- ğŸ§  **æ™ºèƒ½æ¦‚å¿µå‘ç°**: åŸºäºå›¾æ•°æ®åº“çš„æ·±åº¦å…³ç³»æŒ–æ˜
- ğŸ“Š **çŸ¥è¯†å›¾è°±ç»Ÿè®¡**: å®æ—¶è·å–å›¾æ•°æ®åº“çš„ç»Ÿè®¡ä¿¡æ¯
- ğŸ” **æ¦‚å¿µåç§°æœç´¢**: æ¨¡ç³Šæœç´¢æ¦‚å¿µåç§°ï¼Œæ”¯æŒä¸­æ–‡æŸ¥è¯¢

## åœ¨ MCP Host ä¸­ä½¿ç”¨

### Cursor é…ç½®

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºæˆ–ç¼–è¾‘ `.cursor/mcp.json` é…ç½®æ–‡ä»¶ï¼š

```json
{
    "mcpServers": {
        "unreal-engine-knowledge-graph-mcp": {
            "command": "npx",
            "args": [
                "-y",
                "unreal-engine-knowledge-graph-mcp"
            ],
            "env": {
                "NEO4J_URI": "bolt://localhost:7687",
                "NEO4J_USER": "neo4j",
                "NEO4J_PASSWORD": "password123"
            }
        }
    }
}
```

### VSCode é…ç½®

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºæˆ–ç¼–è¾‘ `.vscode/mcp.json` é…ç½®æ–‡ä»¶ï¼š

```json
{
    "servers": {
        "unreal-engine-knowledge-graph-mcp": {
            "type": "stdio",
            "command": "npx",
            "args": [
                "-y",
                "unreal-engine-knowledge-graph-mcp"
            ],
            "env": {
                "NEO4J_URI": "bolt://localhost:7687",
                "NEO4J_USER": "neo4j",
                "NEO4J_PASSWORD": "password123"
            }
        }
    }
}
```

### ç¯å¢ƒå˜é‡è¯´æ˜

| ç¯å¢ƒå˜é‡ | å«ä¹‰ | é»˜è®¤å€¼ |
|---------|------|--------|
| `NEO4J_URI` | Neo4jæ•°æ®åº“è¿æ¥åœ°å€ | `bolt://localhost:7687` |
| `NEO4J_USER` | Neo4jç”¨æˆ·å | `neo4j` |
| `NEO4J_PASSWORD` | Neo4jå¯†ç  | `password123` |
| `DEEPSEEK_API_KEY` | DeepSeek APIå¯†é’¥ | æ—  |

## MCPå·¥å…·åŠŸèƒ½

### search_concept_relations

æœç´¢æŒ‡å®šæ¦‚å¿µçš„ç›¸å…³æ¦‚å¿µå’Œå…³ç³»ã€‚

**ä½¿ç”¨åœºæ™¯:**
- ğŸ¯ **æ¦‚å¿µå­¦ä¹ æ‰©å±•**: "æˆ‘æƒ³å­¦ä¹ è“å›¾ç³»ç»Ÿï¼Œç›¸å…³çš„æ¦‚å¿µè¿˜æœ‰å“ªäº›ï¼Ÿ"
- ğŸ” **æŠ€æœ¯å…³è”æ¢ç´¢**: "è™šå¹»å¼•æ“åŒ…å«å“ªäº›æ ¸å¿ƒåŠŸèƒ½æ¨¡å—ï¼Ÿ"
- ğŸ§­ **å­¦ä¹ è·¯å¾„è§„åˆ’**: "ä»æè´¨ç¼–è¾‘å™¨å‡ºå‘ï¼Œæˆ‘è¿˜éœ€è¦äº†è§£ä»€ä¹ˆï¼Ÿ"

**æç¤ºè¯ç¤ºä¾‹:**
```
å¸®æˆ‘æœç´¢"è“å›¾ç³»ç»Ÿ"çš„ç›¸å…³æ¦‚å¿µï¼Œæˆ‘æƒ³äº†è§£å®ƒä¸å…¶ä»–åŠŸèƒ½çš„å…³ç³»
æŸ¥æ‰¾"è™šå¹»å¼•æ“"åŒ…å«å“ªäº›æ ¸å¿ƒåŠŸèƒ½
æœç´¢"æè´¨ç¼–è¾‘å™¨"ç›¸å…³çš„å­¦ä¹ å†…å®¹
```

**å‚æ•°:**
- `concept` (å¿…éœ€): è¦æŸ¥è¯¢çš„æ¦‚å¿µåç§°
- `limit` (å¯é€‰): è¿”å›çš„æœ€å¤§å…³ç³»æ•°é‡ï¼Œé»˜è®¤20

**è¿”å›æ•°æ®æ ¼å¼:**
```json
{
  "concept": "è™šå¹»å¼•æ“",
  "found": true,
  "totalRelations": 12,
  "relatedConcepts": [
    {
      "concept": "è“å›¾ç³»ç»Ÿ",
      "predicate": "åŒ…å«",
      "context": "è™šå¹»å¼•æ“çš„å¯è§†åŒ–è„šæœ¬ç¼–ç¨‹ç³»ç»Ÿ",
      "direction": "outgoing"
    }
  ],
  "limit": 20
}
```

### search_concepts

æ¨¡ç³Šæœç´¢æ¦‚å¿µåç§°ã€‚

**ä½¿ç”¨åœºæ™¯:**
- ğŸ” **å¿«é€ŸæŸ¥æ‰¾æ¦‚å¿µ**: "æˆ‘è®°å¾—æœ‰ä¸ªå…³äº'ç²’å­'çš„åŠŸèƒ½ï¼Œå«ä»€ä¹ˆåå­—æ¥ç€ï¼Ÿ"
- ğŸ“ **æ¦‚å¿µåç§°ç¡®è®¤**: "è™šå¹»å¼•æ“ä¸­2Dç›¸å…³çš„åŠŸèƒ½éƒ½æœ‰å“ªäº›ï¼Ÿ"
- ğŸ¯ **å…³é”®è¯æ¢ç´¢**: "æœç´¢åŒ…å«'ç¼–è¾‘å™¨'çš„æ‰€æœ‰æ¦‚å¿µ"

**æç¤ºè¯ç¤ºä¾‹:**
```
æœç´¢åŒ…å«"ç²’å­"çš„æ‰€æœ‰æ¦‚å¿µ
æŸ¥æ‰¾ä¸"2D"ç›¸å…³çš„åŠŸèƒ½
æœç´¢"ç¼–è¾‘å™¨"ç›¸å…³çš„å·¥å…·
```

**å‚æ•°:**
- `searchTerm` (å¿…éœ€): æœç´¢å…³é”®è¯
- `limit` (å¯é€‰): è¿”å›çš„æœ€å¤§æ¦‚å¿µæ•°é‡ï¼Œé»˜è®¤10

**è¿”å›æ•°æ®æ ¼å¼:**
```json
{
  "searchTerm": "è“å›¾",
  "concepts": ["è“å›¾ç³»ç»Ÿ", "è“å›¾ç¼–è¾‘å™¨"],
  "count": 2,
  "limit": 10
}
```

### get_all_concepts

è·å–æ‰€æœ‰å¯ç”¨æ¦‚å¿µåˆ—è¡¨ã€‚

**ä½¿ç”¨åœºæ™¯:**
- ğŸ“‹ **æ¦‚å¿µå¤§çº²æµè§ˆ**: "è™šå¹»å¼•æ“çŸ¥è¯†å›¾è°±ä¸­éƒ½åŒ…å«å“ªäº›æ¦‚å¿µï¼Ÿ"
- ğŸ¯ **å­¦ä¹ è®¡åˆ’åˆ¶å®š**: "æˆ‘æƒ³çœ‹çœ‹éƒ½æœ‰å“ªäº›åŠŸèƒ½å¯ä»¥å­¦ä¹ "
- ğŸ“Š **å†…å®¹èŒƒå›´äº†è§£**: "è¿™ä¸ªçŸ¥è¯†åº“è¦†ç›–äº†å“ªäº›æ–¹é¢çš„å†…å®¹ï¼Ÿ"

**æç¤ºè¯ç¤ºä¾‹:**
```
æ˜¾ç¤ºæ‰€æœ‰å¯ç”¨çš„è™šå¹»å¼•æ“æ¦‚å¿µ
åˆ—å‡ºå‰50ä¸ªæ¦‚å¿µï¼Œæˆ‘æƒ³äº†è§£çŸ¥è¯†åº“çš„è¦†ç›–èŒƒå›´
è·å–æ¦‚å¿µåˆ—è¡¨ï¼Œå¸®æˆ‘åˆ¶å®šå­¦ä¹ è®¡åˆ’
```

**å‚æ•°:**
- `limit` (å¯é€‰): è¿”å›çš„æœ€å¤§æ¦‚å¿µæ•°é‡ï¼Œé»˜è®¤100

### search_by_predicate

æ ¹æ®å…³ç³»è°“è¯æœç´¢çŸ¥è¯†ä¸‰å…ƒç»„ã€‚

**ä½¿ç”¨åœºæ™¯:**
- ğŸ”— **å…³ç³»ç±»å‹æ¢ç´¢**: "å“ªäº›åŠŸèƒ½'æ”¯æŒ'å…¶ä»–åŠŸèƒ½ï¼Ÿ"
- ğŸ—ï¸ **ä¾èµ–å…³ç³»åˆ†æ**: "æŸ¥çœ‹æ‰€æœ‰'ä¾èµ–'å…³ç³»ï¼Œäº†è§£åŠŸèƒ½é—´çš„ä¾èµ–"
- ğŸ“¦ **åŒ…å«å…³ç³»æŸ¥è¯¢**: "å“ªäº›ç»„ä»¶'åŒ…å«'å…¶ä»–å­ç»„ä»¶ï¼Ÿ"

**æç¤ºè¯ç¤ºä¾‹:**
```
æŸ¥æ‰¾æ‰€æœ‰"æ”¯æŒ"å…³ç³»ï¼Œæˆ‘æƒ³äº†è§£åŠŸèƒ½çš„æ”¯æŒæƒ…å†µ
æœç´¢"ä¾èµ–"å…³ç³»ï¼Œåˆ†æåŠŸèƒ½é—´çš„ä¾èµ–ç»“æ„
æ˜¾ç¤º"åŒ…å«"å…³ç³»ï¼Œäº†è§£ç»„ä»¶çš„ç»„æˆç»“æ„
```

**å‚æ•°:**
- `predicate` (å¿…éœ€): å…³ç³»è°“è¯ï¼ˆå¦‚ï¼šåŒ…å«ã€æ”¯æŒã€ä¾èµ–ç­‰ï¼‰
- `limit` (å¯é€‰): è¿”å›çš„æœ€å¤§ä¸‰å…ƒç»„æ•°é‡ï¼Œé»˜è®¤20

**è¿”å›æ•°æ®æ ¼å¼:**
```json
{
  "predicate": "æ”¯æŒ",
  "triples": [
    {
      "subject": "è“å›¾ç³»ç»Ÿ",
      "predicate": "æ”¯æŒ",
      "object": "äº‹ä»¶é©±åŠ¨ç¼–ç¨‹",
      "context": "è“å›¾å¯ä»¥å“åº”å„ç§æ¸¸æˆäº‹ä»¶",
      "direction": "unidirectional",
      "confidence": 0.85
    }
  ],
  "count": 5,
  "totalCount": 15,
  "limit": 20
}
```

### search_by_confidence

æ ¹æ®ç½®ä¿¡åº¦æœç´¢çŸ¥è¯†ä¸‰å…ƒç»„ï¼Œè¿”å›é«˜è´¨é‡çš„æ¦‚å¿µå…³ç³»ã€‚

**ä½¿ç”¨åœºæ™¯:**
- â­ **é«˜è´¨é‡å…³ç³»ç­›é€‰**: "ç»™æˆ‘æœ€å¯é çš„æ¦‚å¿µå…³ç³»ï¼Œç½®ä¿¡åº¦è¦é«˜"
- ğŸ¯ **ç²¾å‡†å­¦ä¹ å†…å®¹**: "æˆ‘åªæƒ³çœ‹ç½®ä¿¡åº¦0.8ä»¥ä¸Šçš„æ ¸å¿ƒå…³ç³»"
- ğŸ“š **ä¼˜è´¨èµ„æºä¼˜å…ˆ**: "ç­›é€‰å‡ºæœ€å¯ä¿¡çš„å­¦ä¹ ææ–™"

**æç¤ºè¯ç¤ºä¾‹:**
```
æ˜¾ç¤ºç½®ä¿¡åº¦0.9ä»¥ä¸Šçš„é«˜è´¨é‡å…³ç³»
æŸ¥æ‰¾ç½®ä¿¡åº¦å¤§äº0.8çš„æ ¸å¿ƒæ¦‚å¿µå…³ç³»
ç­›é€‰æœ€å¯é çš„å­¦ä¹ å†…å®¹ï¼Œç½®ä¿¡åº¦è¦é«˜
```

**å‚æ•°:**
- `minConfidence` (å¯é€‰): æœ€å°ç½®ä¿¡åº¦é˜ˆå€¼ï¼ˆ0.0-1.0ï¼‰ï¼Œé»˜è®¤0.5
- `limit` (å¯é€‰): è¿”å›çš„æœ€å¤§ä¸‰å…ƒç»„æ•°é‡ï¼Œé»˜è®¤20

**è¿”å›æ•°æ®æ ¼å¼:**
```json
{
  "minConfidence": 0.7,
  "triples": [
    {
      "subject": "è™šå¹»å¼•æ“",
      "predicate": "åŒ…å«",
      "object": "è“å›¾ç³»ç»Ÿ",
      "context": "è™šå¹»å¼•æ“å†…ç½®çš„å¯è§†åŒ–è„šæœ¬ç¼–ç¨‹ç³»ç»Ÿ",
      "direction": "unidirectional",
      "confidence": 0.95
    }
  ],
  "count": 8,
  "totalCount": 25,
  "limit": 20
}
```

### get_confidence_stats

è·å–çŸ¥è¯†å›¾è°±ä¸­ç½®ä¿¡åº¦çš„ç»Ÿè®¡ä¿¡æ¯ã€‚

**ä½¿ç”¨åœºæ™¯:**
- ğŸ“Š **æ•°æ®è´¨é‡è¯„ä¼°**: "è¿™ä¸ªçŸ¥è¯†åº“çš„æ•°æ®è´¨é‡å¦‚ä½•ï¼Ÿ"
- ğŸ” **ç½®ä¿¡åº¦åˆ†å¸ƒåˆ†æ**: "é«˜ç½®ä¿¡åº¦çš„å…³ç³»æœ‰å¤šå°‘ï¼Ÿ"
- ğŸ“ˆ **è´¨é‡ç›‘æ§**: "äº†è§£çŸ¥è¯†å›¾è°±çš„æ•´ä½“å¯ä¿¡åº¦"

**æç¤ºè¯ç¤ºä¾‹:**
```
åˆ†æçŸ¥è¯†å›¾è°±çš„æ•°æ®è´¨é‡å’Œç½®ä¿¡åº¦åˆ†å¸ƒ
æ˜¾ç¤ºé«˜ä¸­ä½ç½®ä¿¡åº¦çš„å…³ç³»æ•°é‡ç»Ÿè®¡
è¯„ä¼°è¿™ä¸ªçŸ¥è¯†åº“çš„å¯ä¿¡åº¦å¦‚ä½•
```

**è¿”å›æ•°æ®æ ¼å¼:**
```json
{
  "confidenceStats": {
    "avgConfidence": 0.742,
    "highConfidenceCount": 45,
    "mediumConfidenceCount": 38,
    "lowConfidenceCount": 12,
    "confidenceDistribution": [
      {"range": "0.9-1.0", "count": 15},
      {"range": "0.8-0.9", "count": 30},
      {"range": "0.7-0.8", "count": 25},
      {"range": "0.6-0.7", "count": 13},
      {"range": "0.5-0.6", "count": 10},
      {"range": "0.0-0.5", "count": 2}
    ]
  },
  "neo4jAvailable": true
}
```

### get_knowledge_graph_stats

è·å–çŸ¥è¯†å›¾è°±ç»Ÿè®¡ä¿¡æ¯ã€‚

**ä½¿ç”¨åœºæ™¯:**
- ğŸ“Š **æ•´ä½“æ•°æ®æ¦‚è§ˆ**: "è¿™ä¸ªçŸ¥è¯†å›¾è°±æœ‰å¤šå¤§è§„æ¨¡ï¼Ÿ"
- ğŸ” **å†…å®¹ç»“æ„åˆ†æ**: "éƒ½æœ‰å“ªäº›ç±»å‹çš„å…³ç³»ï¼Ÿ"
- ğŸ“ˆ **æ•°æ®åº“çŠ¶æ€æ£€æŸ¥**: "Neo4jè¿æ¥æ­£å¸¸å—ï¼Ÿ"

**æç¤ºè¯ç¤ºä¾‹:**
```
æ˜¾ç¤ºçŸ¥è¯†å›¾è°±çš„æ•´ä½“ç»Ÿè®¡ä¿¡æ¯
æŸ¥çœ‹æ•°æ®åº“ä¸­æœ‰å¤šå°‘å®ä½“å’Œå…³ç³»
åˆ†æå…³ç³»è°“è¯çš„åˆ†å¸ƒæƒ…å†µ
```

**è¿”å›æ•°æ®æ ¼å¼:**
```json
{
  "statistics": {
    "entityCount": 14,
    "documentCount": 1,
    "tripleCount": 12,
    "predicateTypes": [
      {"predicate": "æ”¯æŒ", "count": 3},
      {"predicate": "åŒ…å«", "count": 2}
    ]
  },
  "neo4jAvailable": true
}
```

## ç³»ç»Ÿæ¶æ„

### æ ¸å¿ƒç»„ä»¶

1. **æ–‡æ¡£å¤„ç†**: è¯»å–Markdownæ–‡æ¡£ï¼Œä½¿ç”¨DeepSeek v3æå–æ¦‚å¿µå…³ç³»
2. **çŸ¥è¯†å›¾è°±**: åŸºäºNeo4jå­˜å‚¨æ¦‚å¿µå’Œå…³ç³»æ•°æ®
3. **MCPæœåŠ¡**: æä¾›æ ‡å‡†åŒ–çš„æ¦‚å¿µå…³ç³»æŸ¥è¯¢æ¥å£

### æ•°æ®æµç¨‹

```
Markdownæ–‡æ¡£ â†’ DeepSeek v3åˆ†æ â†’ æ¦‚å¿µå…³ç³»æå– â†’ Neo4jå›¾æ•°æ®åº“ â†’ MCPå·¥å…·æŸ¥è¯¢
```

## å¼€å‘æµ‹è¯•

### ç¯å¢ƒè¦æ±‚

- Node.js >= 18.0.0
- Docker (ç”¨äºè¿è¡ŒNeo4j)
- DeepSeek APIå¯†é’¥

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone https://github.com/your-username/unreal-engine-knowledge-graph-mcp.git
cd unreal-engine-knowledge-graph-mcp
```

2. **å®‰è£…ä¾èµ–**
```bash
npm install
```

3. **é…ç½®ç¯å¢ƒå˜é‡**
```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp .env.example .env

# ç¼–è¾‘.envæ–‡ä»¶ï¼Œæ·»åŠ DeepSeek APIå¯†é’¥
DEEPSEEK_API_KEY=your_deepseek_api_key_here
```

4. **å¯åŠ¨Neo4jæ•°æ®åº“**
```bash
# å¯åŠ¨Dockerå®¹å™¨
docker-compose up -d

# ç­‰å¾…æ•°æ®åº“å¯åŠ¨å®Œæˆ
npm run test-connection
```

5. **æ„å»ºé¡¹ç›®**
```bash
npm run build
```

6. **æå–æ¦‚å¿µå…³ç³»ï¼ˆæµ‹è¯•æ¨¡å¼ï¼‰**
```bash
# æµ‹è¯•æ¨¡å¼ï¼šåªå¤„ç†ä¸€ä¸ªæ–‡æ¡£æ–‡ä»¶
npm run extract-triplets:test-mode
```

7. **å¯¼å…¥æ•°æ®åˆ°Neo4j**
```bash
npm run import-to-neo4j
```

## çŸ¥è¯†ä¸‰å…ƒç»„æ•°æ®ç»“æ„

ç³»ç»Ÿä½¿ç”¨æ ‡å‡†çš„çŸ¥è¯†å›¾è°±ä¸‰å…ƒç»„ç»“æ„å­˜å‚¨æ¦‚å¿µå…³ç³»ï¼š

```json
{
  "filename": "æ–‡æ¡£åç§°",
  "sourceFile": "æºæ–‡ä»¶è·¯å¾„",
  "triples": [
    {
      "subject": "ä¸»ä½“æ¦‚å¿µ",
      "predicate": "å…³ç³»è°“è¯",
      "object": "å®¢ä½“æ¦‚å¿µ",
      "context": "ä¸Šä¸‹æ–‡è¯´æ˜",
      "direction": "bidirectional"
    }
  ],
  "timestamp": "åˆ›å»ºæ—¶é—´æˆ³"
}
```

**å­—æ®µè¯´æ˜ï¼š**
- `subject`: ä¸»ä½“æ¦‚å¿µåç§°ï¼ˆçŸ¥è¯†ä¸‰å…ƒç»„çš„ä¸»è¯­ï¼‰
- `predicate`: å…³ç³»è°“è¯ï¼ˆå¦‚ï¼šåŒ…å«ã€æ”¯æŒã€ä¾èµ–ã€å…³è”ç­‰ï¼‰
- `object`: å®¢ä½“æ¦‚å¿µåç§°ï¼ˆçŸ¥è¯†ä¸‰å…ƒç»„çš„å®¾è¯­ï¼‰
- `context`: å…³ç³»çš„ä¸Šä¸‹æ–‡è¯´æ˜ï¼Œå¸®åŠ©ç†è§£å…³ç³»çš„å…·ä½“å«ä¹‰
- `direction`: å…³ç³»æ–¹å‘æ€§
  - `"unidirectional"`: å•å‘å…³ç³»ï¼ˆä¸»ä½“â†’å®¢ä½“ï¼Œä½†å®¢ä½“ä¸ä¸€å®šâ†’ä¸»ä½“ï¼‰
  - `"bidirectional"`: åŒå‘å…³ç³»ï¼ˆä¸»ä½“â†”å®¢ä½“ï¼Œç›¸äº’å…³è”ï¼‰
- `confidence`: ç½®ä¿¡åº¦ï¼ˆ0.0-1.0ï¼‰ï¼Œè¡¨ç¤ºå…³ç³»æå–çš„å‡†ç¡®æ€§å’Œå¯é æ€§
  - `0.9-1.0`: æ˜ç¡®çš„æŠ€æœ¯å…³ç³»ï¼Œæ–‡æ¡£ä¸­æœ‰ç›´æ¥ã€æ¸…æ™°çš„è¯´æ˜
  - `0.7-0.9`: è¾ƒä¸ºæ˜ç¡®çš„å…³ç³»ï¼ŒåŸºäºä¸Šä¸‹æ–‡æ¨æ–­ä½†è¯æ®å……åˆ†
  - `0.5-0.7`: ä¸­ç­‰ç½®ä¿¡åº¦ï¼Œå…³ç³»å­˜åœ¨ä½†éœ€è¦ä¸€å®šæ¨ç†
  - `0.3-0.5`: è¾ƒå¼±çš„å…³ç³»ï¼Œä¸»è¦åŸºäºè¯­ä¹‰ç›¸ä¼¼æ€§
  - `0.1-0.3`: éå¸¸å¼±çš„å…³ç³»ï¼Œä»…åŸºäºæ¦‚å¿µå…±ç°

## å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„

```
â”œâ”€â”€ scripts/                    # è„šæœ¬æ–‡ä»¶
â”‚   â”œâ”€â”€ extract-triplets.ts     # çŸ¥è¯†ä¸‰å…ƒç»„æå–
â”‚   â”œâ”€â”€ import-to-neo4j.ts      # æ•°æ®å¯¼å…¥Neo4j
â”‚   â””â”€â”€ test-connection.ts      # æ•°æ®åº“è¿æ¥æµ‹è¯•
â”œâ”€â”€ src/                        # æºä»£ç 
â”‚   â”œâ”€â”€ index.ts                # MCPæœåŠ¡å™¨å®ç°
â”‚   â””â”€â”€ neo4j-search.ts         # Neo4jæœç´¢å¼•æ“
â”œâ”€â”€ sources/                    # æ•°æ®æ–‡ä»¶
â”‚   â”œâ”€â”€ docs/                   # Markdownæ–‡æ¡£
â”‚   â””â”€â”€ triplets/               # çŸ¥è¯†ä¸‰å…ƒç»„JSONæ–‡ä»¶
â”œâ”€â”€ tests/                      # æµ‹è¯•æ–‡ä»¶
â”‚   â””â”€â”€ mcp-client.test.ts      # MCPå®¢æˆ·ç«¯æµ‹è¯•
â”œâ”€â”€ docker-compose.yml          # Neo4j Dockeré…ç½®
â””â”€â”€ package.json                # é¡¹ç›®é…ç½®
```

### å¯ç”¨è„šæœ¬

```bash
# æ„å»ºé¡¹ç›®
npm run build

# æµ‹è¯•æ•°æ®åº“è¿æ¥
npm run test-connection

# ç”Ÿæˆæ¼”ç¤ºæ•°æ®
npm run extract-triplets:test-mode

# æå–çŸ¥è¯†ä¸‰å…ƒç»„ï¼ˆéœ€è¦DeepSeek APIï¼‰
npm run extract-triplets

# å¯¼å…¥æ•°æ®åˆ°Neo4j
npm run import-to-neo4j

# æ¸…ç©ºæ•°æ®åº“å¹¶é‡æ–°å¯¼å…¥
npm run import-to-neo4j -- --clear

# è¿è¡Œæµ‹è¯•
npm test
```

### æ·»åŠ æ–°æ–‡æ¡£

1. å°†Markdownæ–‡æ¡£æ”¾å…¥ `sources/docs/` ç›®å½•
2. è¿è¡Œæ¦‚å¿µå…³ç³»æå–ï¼š`npm run extract-triplets`
3. å¯¼å…¥åˆ°Neo4jï¼š`npm run import-to-neo4j`

### è‡ªå®šä¹‰çŸ¥è¯†ä¸‰å…ƒç»„

ä½ å¯ä»¥æ‰‹åŠ¨åˆ›å»ºçŸ¥è¯†ä¸‰å…ƒç»„JSONæ–‡ä»¶ï¼š

```json
{
  "filename": "custom-triples",
  "sourceFile": "custom/triples.md",
  "triples": [
    {
      "subject": "è‡ªå®šä¹‰æ¦‚å¿µA",
      "predicate": "å…³è”",
      "object": "è‡ªå®šä¹‰æ¦‚å¿µB",
      "context": "è¿™æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰çš„çŸ¥è¯†ä¸‰å…ƒç»„",
      "direction": "bidirectional"
    }
  ],
  "timestamp": "2025-01-12T10:30:15.387Z"
}
```

å°†æ–‡ä»¶ä¿å­˜åˆ° `sources/triplets/` ç›®å½•ï¼Œç„¶åè¿è¡Œå¯¼å…¥å‘½ä»¤ã€‚

## æŠ€æœ¯æ ˆ

### æ ¸å¿ƒæŠ€æœ¯
- **Node.js**: è¿è¡Œç¯å¢ƒ
- **TypeScript**: ç±»å‹å®‰å…¨çš„å¼€å‘è¯­è¨€
- **MCP SDK**: Model Context Protocol å®ç°
- **Neo4j**: å›¾æ•°æ®åº“
- **Docker**: å®¹å™¨åŒ–éƒ¨ç½²

### AIé›†æˆ
- **DeepSeek v3**: æ¦‚å¿µå…³ç³»æå–
- **OpenAI SDK**: APIè°ƒç”¨æ¥å£

### å¼€å‘å·¥å…·
- **Vitest**: å•å…ƒæµ‹è¯•æ¡†æ¶
- **tsx**: TypeScriptæ‰§è¡Œå™¨
- **Zod**: å‚æ•°éªŒè¯

## æ•…éšœæ’é™¤

### Neo4jè¿æ¥é—®é¢˜

```bash
# æ£€æŸ¥Dockerå®¹å™¨çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹Neo4jæ—¥å¿—
docker-compose logs neo4j

# é‡å¯Neo4jå®¹å™¨
docker-compose restart neo4j
```

### æµ‹è¯•è¿æ¥
```bash
npm run test-connection
```

### æŸ¥çœ‹Neo4jæµè§ˆå™¨ç•Œé¢
è®¿é—® http://localhost:7474
- ç”¨æˆ·å: neo4j
- å¯†ç : password123

## è®¸å¯è¯

MIT License

## è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼ 