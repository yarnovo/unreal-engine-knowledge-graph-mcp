# 虚幻引擎中的间接光照缓存 | 虚幻引擎 5.6 文档 | Epic Developer Community

> 原文链接: https://dev.epicgames.com/documentation/zh-cn/unreal-engine/indirect-lighting-cache-in-unreal-engine
> 
> 生成时间: 2025-06-14T19:15:01.051Z

---

目录

![间接光照缓存](https://dev.epicgames.com/community/api/documentation/image/39c6aa80-30ca-4a6c-8555-b226658f0e24?resizing_type=fill&width=1920&height=335)

![Banner image](https://d1iv7db44yhgxn.cloudfront.net/documentation/images/0c0982b5-53b6-44a1-a0d0-b6181f8918cc/indirect-cache-banner.png)

[CPU Lightmass](/documentation/zh-cn/unreal-engine/cpu-lightmass-global-illumination-in-unreal-engine)可以在静态对象上生成间接光照的光照贴图，但角色之类的动态对象同样需要一种接收间接光照的方法。这能通过 **间接光照缓存（Indirect Lighting Cache）** 来解决，其在光照构建时用Lightmass生成的采样来计算动态对象在运行时的间接光照。

下图显示了带与不带间接光照缓存渲染的效果差异：

![Scene without the Indirect Lighting Cache](https://d1iv7db44yhgxn.cloudfront.net/documentation/images/768a29ed-e087-4179-9513-1a89f13a4049/01-indirect-cache-diffuse-no-indirect.png)

Elemental关卡中的漫反射光照，不带 间接光照缓存。

![Scene with the Indirect Lighting Cache](https://d1iv7db44yhgxn.cloudfront.net/documentation/images/2dc84f27-4d1b-4e53-9e8a-2697ea9deea7/02-indirect-cache-diffuse-indirect.png)

采用了 间接光照缓存 的漫反射光照。

## 工作原理

从高层次的观点来看：

-   Lightmass在关卡中放置光照采样，并在光照构建中计算其间接光照。
    
-   当涉及到动态对象的渲染时间时，**间接光照缓存** 将确认此对象是否已拥有可用光照；如有，则进行使用。
    
-   如无光照可用（对象为全新、或移动量过大），**间接光照缓存** 将从预计算光照采样内插光照。
    

Lightmass将以高密度将光照采样放置在朝上的表面上，其余处则以低密度放置。采样将被限制在 **Lightmass Importance Volume** 中，其只放置在静态表面上。

![Example of visualising of the lighting samples generated by Lightmass](https://d1iv7db44yhgxn.cloudfront.net/documentation/images/1623967f-ec04-4895-ba65-fa29f78900f7/03-indirect-cache-lighting-samples.png)

使用 展示（Show）-> 显示（Visualize）-> 体积光照采样（Volume Lighting Samples） 来显示Lightmass生成的光照采样。

此工作流的目的是尽量减少内容设置。但有时这种放置启发法会使漂浮在空中的区域缺少细节（例如玩家乘坐的升降电梯或飞行物）。可将 **Lightmass Character Indirect Detail Volumes** 放置在这些区域的周围来获取更多细节。

运行时，**间接光照缓存** 将把光照采样内插到每个可移动对象周围的位置。可移动对象即是 **移动性** 设为 **可移动** 的所有组件。

图中的螺绕环便是一个可移动静态网格体，显示了5x5x5的插值位置。

![Movable Static Mesh and the interpolation positions](https://d1iv7db44yhgxn.cloudfront.net/documentation/images/f6a83d8d-00e9-43de-adda-71fb468d0426/04-indirect-cache-interpolation-points.png)

对象移动距离足以触发内插时才会进行内插，因此缓存会进行命名。注意：这些位置离对象的边界很远。以便对象在场景中移动时形成连续而稳定的光照。多数对象实际将获得3x3x3的插值分辨率。体积光照采样保存定向间接光照（其使法线贴图能正常工作）。

## 预览未构建的光照

间接光照缓存还能预览未构建光照的对象。它在较小的物体上效果极佳，但在较大的网格体上效果不佳（如建筑或地面）。移动已构建光照的静态网格体时，其将自动切换至间接光照缓存，直至下次光照构建。

此处有一根复制的柱子，其获得间接光照以便预览，而非完全隐藏在黑暗之中。

![Example of scene with indirect lighting for previewing](https://d1iv7db44yhgxn.cloudfront.net/documentation/images/58dc20a2-356c-4eb8-9ae2-bf7d7e612a4b/05-indirect-cache-indirect-lighting-preview.png)

-   [rendering](https://dev.epicgames.com/community/search?query=rendering)
-   [lighting](https://dev.epicgames.com/community/search?query=lighting)
-   [global illumination](https://dev.epicgames.com/community/search?query=global%20illumination)

* * *

提问并帮助你的同行 [开发者论坛](https://forums.unrealengine.com/categories?tag=unreal-engine)

编写你自己的教程或阅读其他人的教程 [学习库](https://dev.epicgames.com/community/unreal-engine/learning)

-   [工作原理](/documentation/zh-cn/unreal-engine/indirect-lighting-cache-in-unreal-engine#%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86)
-   [预览未构建的光照](/documentation/zh-cn/unreal-engine/indirect-lighting-cache-in-unreal-engine#%E9%A2%84%E8%A7%88%E6%9C%AA%E6%9E%84%E5%BB%BA%E7%9A%84%E5%85%89%E7%85%A7)